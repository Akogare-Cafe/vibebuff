# Vibebuff Project Rules

## Icon Usage - CRITICAL

**DO NOT use system emojis or unicode icons anywhere in the codebase.**

All icons MUST come from our custom icon library: `lucide-react`

### Correct Usage
```tsx
import { Search, Star, Gamepad2 } from "lucide-react";

// Use in components
<Search className="w-4 h-4" />
<Star className="w-4 h-4" />
```

### Forbidden
- Unicode emojis: ‚ùå üéÆ ‚≠ê üîç etc.
- HTML entities: &star; &check; etc.
- Inline SVGs (unless absolutely necessary for custom graphics)
- Other icon libraries (Font Awesome, Heroicons, etc.)

## Tech Stack

- **Framework**: Next.js 15 (App Router)
- **UI**: React 19, Tailwind CSS v4, Radix UI
- **Icons**: lucide-react (ONLY)
- **Backend**: Convex
- **Auth**: Clerk
- **Animations**: Framer Motion
- **Flow Diagrams**: @xyflow/react

## Convex Backend - CRITICAL

**ALWAYS run this command immediately after modifying ANY file in the `convex/` folder:**

```bash
npx convex dev --once --typecheck disable
```

### When to Sync (MANDATORY)
- After editing any `.ts` file in `convex/`
- After changing function signatures or validators
- After adding/removing Convex functions
- After modifying database schema
- Before testing changes in the browser
- Before marking a feature as complete

**Failing to sync will cause "Server Error" runtime errors in the application.**

This command deploys your local Convex functions to the development backend, ensuring the deployed code matches your local changes.

## Code Style

- Use TypeScript for all files
- Follow existing pixel/retro gaming aesthetic
- Use the custom Pixel* components (PixelCard, PixelButton, etc.)
- Keep components in `src/components/`
- Keep pages in `src/app/`

## Comments

- Do not add or delete comments unless explicitly asked
- Preserve existing documentation

## After Completing Features

After completing any feature or making significant changes, you MUST:

### 1. Sync Convex (if you modified `convex/` folder)
```bash
npx convex dev --once --typecheck disable
```

### 2. Verify Production Build
```bash
pnpm build
```

This ensures:
- TypeScript compiles without errors
- Next.js can generate static pages
- No runtime errors in production build
- All route handlers return proper responses

**Do NOT consider a feature complete until BOTH steps pass successfully.**
